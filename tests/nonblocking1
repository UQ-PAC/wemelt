_var r_r1:
_L: TRUE

_var r_r2:
_L: FALSE

_var x:
_L: z % 2 == 0
_Mode: RW

_var z:
_L: TRUE
_Mode: RW

_var y:
_L: TRUE
_Mode: RW

_var q:
_L: TRUE
_Mode: NoRW

_Gamma_0: r_r1 -> LOW, r_r2 -> HIGH, q -> LOW

while(TRUE)
_invariant: TRUE
_Gamma: r_r1 -> LOW, r_r2 -> HIGH, q -> LOW
{
  q = 0;
  do
  _invariant: TRUE
  _Gamma: r_r1 -> LOW, r_r2 -> HIGH, q -> LOW
  _Stable: z
  {
    do
    _invariant: TRUE
    _Gamma: r_r1 -> LOW, r_r2 -> HIGH, q -> LOW
    {
      r_r1 = z;
      q = 0; // should fail due to being global variable inside nonblocking rule loop
    } while ((r_r1 % 2) != 0)
    fence;
    r_r2 = x;
    fence;
  } while (z != r_r1)
  y = r_r2;
}
